
#include "sb_hse.hpp"
#include "stm32f429xx.h"

namespace SB
{

Hse::Hse()
{
}

Hse::~Hse()
{
}

bool Hse::setEnabled( bool en )
{
	// If HSE is ready
	if ( RCC->CR & RCC_CR_HSERDY )
	{

	}
	if ( en )
	{
		RCC->CR |= RCC_CR_HSEON;
		while ( !(RCC->CR & RCC_CR_HSERDY) )
			;
	}
	else
		RCC->CR &= RCC_CR_HSEON;
}

bool Hse::enabled()
{

}

int Hse::type() const
{
	return static_cast<int>( CLKSRC::HSE );
}

}

